#STM32 #外设 #传感器 #I2C

>[[MPU6050]]具有加速度计、陀螺仪与温度传感器，使用[[I2C]]协议进行通讯。
>
>本文主要介绍如何通过[[I2C]]通信来读取[[MPU6050]]传感器的测量值。

### 代码

#### 初始化MPU6050

``` c
void MPU6050_INIT()
{
    HAL_Delay(100);
    uint8_t SendAddress = 0x6b;
    uint8_t SendData = 0x00;//解除休眠
    HAL_I2C_Mem_Write(&hi2c1,0xD1,SendAddress,1,&SendData,1,0xff);
    SendAddress = 0x19;
    SendData = 0x07;//采样率分频器
    HAL_I2C_Mem_Write(&hi2c1,0xD1,SendAddress,1,&SendData,1,0xff);
    SendAddress = 0x1A;//低通滤波器
    SendData = 0x06;
    HAL_I2C_Mem_Write(&hi2c1,0xD1,SendAddress,1,&SendData,1,0xff);
    SendAddress = 0x1B;//陀螺仪
    SendData = 0x08;//±500°/s
    HAL_I2C_Mem_Write(&hi2c1,0xD1,SendAddress,1,&SendData,1,0xff);
    SendAddress = 0x1C;//加速度计
    SendData = 0x00;//±2g
    HAL_I2C_Mem_Write(&hi2c1,0xD1,SendAddress,1,&SendData,1,0xff);
}
```

#### sdf

